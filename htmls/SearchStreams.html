{% extends '/htmls/base.html' %}
{% block title %}SearchStreams{% endblock %}
{% block content %}


    <style>
  .ui-autocomplete {
    max-height: 550px;
    overflow-y: hidden;
    overflow-x: hidden;
  }
  </style>

    <link rel="stylesheet" href="/stylesheets/jquery-ui.css">
    <script src="/js/jquery/jquery-ui.js"></script>
    <script>
        $(function() {
            var tagstring =  "{{tags}}";
            var availableTags = new Array();
            var availableTags = tagstring.split(" ")
            availableTags.sort();
            $( "#tags" ).autocomplete({
                source: availableTags
            });
        });
    </script>

    <style type="text/css">
        {%  for stream in streams %}
            div#{{stream.name}} {height:200px;width:220px;float:left;}
        {% endfor %}
    </style>

    <form action="/search" method="post">
        <input id="tags" type="text" name="keywords" placeholder="key word of the stream">
        <br/>
        <br/>
        <input class="submit" type="submit" name="search" value="Search">
    </form>
    <p>{{ result_number }} results for {{ keyword }}</p>
    <p>click on an image to view stream</p>
    <br>

    <div style="width:700px; height:200px; overflow:auto;">
    {% for stream in streams %}
        <div id="{{stream.name}}">
        <table>
            <tr>
                <td><a href="/view?stream_name={{stream.name}}"><img src="{{stream.cover}}"  width="200" height="150"></a></td>
            </tr>
            <tr>
                <td style="text-align: center;">
                    <a href="/view?stream_name={{stream.name}}">{{stream.name}}</a>
                </td>
            </tr>
        </table>
        </div>
    {% endfor %}
    </div>

{% endblock %}